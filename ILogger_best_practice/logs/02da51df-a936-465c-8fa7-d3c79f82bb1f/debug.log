{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 47, "message": "Creating staging directory C:/Users/yunl/staging/02da51df-a936-465c-8fa7-d3c79f82bb1f"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 49, "message": "Creating source directory C:/Users/yunl/staging/02da51df-a936-465c-8fa7-d3c79f82bb1f/s"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 54, "message": "Creating KB directory C:/Users/yunl/staging/02da51df-a936-465c-8fa7-d3c79f82bb1f/kb"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 56, "message": "Creating config directory C:/Users/yunl/staging/02da51df-a936-465c-8fa7-d3c79f82bb1f/.config"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 58, "message": "Creating cache directory C:/Users/yunl/cache/02da51df-a936-465c-8fa7-d3c79f82bb1f"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 60, "message": "Creating telemetry directory C:/Users/yunl/telemetry/02da51df-a936-465c-8fa7-d3c79f82bb1f"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\bandish_setup_utils.py", "caller_name": "fetch_source_documents", "caller_line": 57, "message": "Fetching source documents from \"C:\\repos\\BandishFramework\\samples\\planning\\iterative\\ILogger_best_practice/input\""}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\setup\\bandish_setup_utils.py", "caller_name": "fetch_kb_documents", "caller_line": 133, "message": "Fetching KB documents from \"C:\\repos\\BandishFramework\\samples\\planning\\iterative\\ILogger_best_practice/kb\""}
{"time": "2024-06-24 18:11:18", "level": "WARNING", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\llm\\llm_response_cache.py", "caller_name": "_load_from_file", "caller_line": 140, "message": "Cache file \"C:/Users/yunl/cache/02da51df-a936-465c-8fa7-d3c79f82bb1f/completions_cache.pkl\" does not exist"}
{"time": "2024-06-24 18:11:18", "level": "WARNING", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\llm\\llm_response_cache.py", "caller_name": "_load_from_file", "caller_line": 140, "message": "Cache file \"C:/Users/yunl/cache/02da51df-a936-465c-8fa7-d3c79f82bb1f/embeddings_cache.pkl\" does not exist"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "load", "caller_line": 87, "message": "Loading workspace content"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_source_documents", "caller_line": 113, "message": "Loaded \"1\" source documents"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_kb_documents", "caller_line": 133, "message": "Loaded \"8\" KB documents"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_scenario_documents", "caller_line": 143, "message": "Loaded \"5\" scenario documents"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_regex_documents", "caller_line": 153, "message": "Loaded \"1\" regex documents"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish.py", "caller_name": "setup_task", "caller_line": 93, "message": "Completed Bandish setup for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\" time taken: 1.2124214172363281 seconds"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish.py", "caller_name": "run_task", "caller_line": 108, "message": "Starting Bandish run for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\""}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\runtime\\workflow_engine.py", "caller_name": "execute", "caller_line": 41, "message": "Executing workflow for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\""}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\runtime\\planning\\workflow_planner.py", "caller_name": "plan_next_stage", "caller_line": 71, "message": "Planning next workflow stages for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\""}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 63, "message": "Found \"1\" source documents in \"C:\\Users\\yunl\\staging\\02da51df-a936-465c-8fa7-d3c79f82bb1f\\s\"."}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 64, "message": "Found \"8\" KB documents in \"C:/Users/yunl/staging/02da51df-a936-465c-8fa7-d3c79f82bb1f/kb\"."}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 73, "message": "Selected \"1\" source documents from \"C:\\Users\\yunl\\staging\\02da51df-a936-465c-8fa7-d3c79f82bb1f\\s\": C:\\Users\\yunl\\staging\\02da51df-a936-465c-8fa7-d3c79f82bb1f\\s\\MetaRpProxyProviderClient.cs"}
{"time": "2024-06-24 18:11:18", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\core\\code_graph\\code_graph.py", "caller_name": "build", "caller_line": 75, "message": "Building code graph for \"C:\\Users\\yunl\\staging\\02da51df-a936-465c-8fa7-d3c79f82bb1f\\s\"."}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\runtime\\workflow_engine.py", "caller_name": "execute", "caller_line": 48, "message": "Executing workflow stage \"stage_1\" for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\""}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "load", "caller_line": 87, "message": "Loading workspace content"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_source_documents", "caller_line": 113, "message": "Loaded \"1\" source documents"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_kb_documents", "caller_line": 133, "message": "Loaded \"8\" KB documents"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_scenario_documents", "caller_line": 143, "message": "Loaded \"5\" scenario documents"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_regex_documents", "caller_line": 153, "message": "Loaded \"1\" regex documents"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\api\\action\\bandish_action.py", "caller_name": "_log_execution_started", "caller_line": 220, "message": "Executing action \"transform_code[transform_code_1]\" with input:max_prompt_retries(\"3\")."}
{"time": "2024-06-24 18:11:19", "level": "ERROR", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\api\\action\\bandish_action.py", "caller_name": "invoke", "caller_line": 172, "message": "Action \"transform_code_1\" failed: not enough values to unpack (expected 2, got 1)"}
{"time": "2024-06-24 18:11:19", "level": "ERROR", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish.py", "caller_name": "run_task", "caller_line": 158, "message": "Exception: not enough values to unpack (expected 2, got 1)"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish.py", "caller_name": "run_task", "caller_line": 166, "message": "Completed Bandish run for task \"02da51df-a936-465c-8fa7-d3c79f82bb1f\" time taken: 0.36599016189575195 seconds"}
{"time": "2024-06-24 18:11:19", "level": "INFO", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "save", "caller_line": 268, "message": "Saving workspace content"}
{"time": "2024-06-24 18:11:19", "level": "BANDISHTELEMETRY", "task_id": "02da51df-a936-465c-8fa7-d3c79f82bb1f", "caller_file": "", "caller_name": "", "caller_line": 0, "message": "{\"task_id\": \"02da51df-a936-465c-8fa7-d3c79f82bb1f\", \"config_json\": \"{\\\"organization\\\": \\\"observability\\\", \\\"scenario\\\": \\\"ILogger\\\", \\\"task\\\": \\\"workflow\\\", \\\"task_source\\\": \\\"local\\\", \\\"task_type\\\": null, \\\"parent_task_id\\\": null, \\\"additional_params\\\": null, \\\"workflow_name\\\": null, \\\"workflow_content\\\": \\\"# Workflow for ILogger best practice using iterative planning and a KB.\\\\nBandishWorkflow:\\\\n  name: \\\\\\\"iLogger\\\\\\\"\\\\n  description: \\\\\\\"Migrate from string interpolation to compile-time source generation.\\\\\\\"\\\\n  version: \\\\\\\"1.1.0\\\\\\\"\\\\nparams:\\\\n  code_language: \\\\\\\"csharp\\\\\\\"\\\\nstages:\\\\n  - stage: \\\\\\\"stage_1\\\\\\\"\\\\n    planning:\\\\n      planner: \\\\\\\"iterative\\\\\\\"\\\\n      working_dir: \\\\\\\".\\\\\\\" # The source code directory.\\\\n      code_slice_granularity: [\\\\\\\"file\\\\\\\", \\\\\\\"class\\\\\\\", \\\\\\\"function\\\\\\\"]\\\\n      progressive_code_slicing: True\\\\n      code_slicing_budget: 1500\\\\n      sketch_file: True\\\\n      # filtering:\\\\n      #   - filter: \\\\\\\"keyword\\\\\\\"\\\\n      #     keywords: [\\\\\\\"SerializeObject\\\\\\\"]\\\\n    steps:\\\\n      - action: transform_code\\\\n        name: \\\\\\\"transform_code_1\\\\\\\"\\\\n        description: \\\\\\\"Migrate files from string interpolation to compile-time source generation.\\\\\\\"\\\\n        inputs:\\\\n          max_prompt_retries: 3\\\\n\\\", \\\"workflow_local_file\\\": null, \\\"report_type\\\": null, \\\"report_content\\\": null, \\\"scenario_description_content\\\": null, \\\"user_instructions\\\": null, \\\"transform_repo\\\": null, \\\"transform_repo_branch\\\": null, \\\"transform_repo_commit\\\": null, \\\"transform_repo_pat\\\": null, \\\"transform_repo_base_path\\\": null, \\\"transform_file_content\\\": null, \\\"transform_local_dir\\\": \\\"C:\\\\\\\\repos\\\\\\\\BandishFramework\\\\\\\\samples\\\\\\\\planning\\\\\\\\iterative\\\\\\\\ILogger_best_practice/input\\\", \\\"transform_included_dirs\\\": null, \\\"transform_included_extensions\\\": null, \\\"output_repo\\\": null, \\\"output_repo_branch\\\": null, \\\"output_repo_commit\\\": null, \\\"output_repo_pat\\\": null, \\\"output_local_dir\\\": null, \\\"kb_repo\\\": null, \\\"kb_repo_branch\\\": null, \\\"kb_repo_commit\\\": null, \\\"kb_repo_pat\\\": null, \\\"kb_local_dir\\\": \\\"C:\\\\\\\\repos\\\\\\\\BandishFramework\\\\\\\\samples\\\\\\\\planning\\\\\\\\iterative\\\\\\\\ILogger_best_practice/kb\\\", \\\"index_label\\\": null, \\\"index_pat\\\": null, \\\"index_repo_list_filepath\\\": \\\"repo_list.csv\\\", \\\"index_repo_list_content\\\": null, \\\"train_file\\\": null, \\\"train_repo_pat\\\": null, \\\"index_path\\\": null, \\\"openai_api_key\\\": \\\"*****\\\", \\\"openai_api_base\\\": \\\"https://yunlaitest.openai.azure.com/\\\", \\\"openai_api_version\\\": \\\"2023-03-15-preview\\\", \\\"openai_api_type\\\": \\\"azure\\\", \\\"embedding_model\\\": \\\"text-embedding-ada-002\\\", \\\"language_model\\\": \\\"gpt-4\\\", \\\"max_tokens\\\": null, \\\"temperature\\\": 0.3, \\\"completions\\\": 1, \\\"deployment_name\\\": \\\"yunlModel\\\", \\\"use_llm_response_cache\\\": false, \\\"llm_cache_task_id\\\": null, \\\"code_language\\\": \\\"csharp\\\", \\\"use_local_tools\\\": false, \\\"disable_staging_cleanup\\\": true, \\\"output_mode\\\": \\\"return\\\", \\\"output_path\\\": null, \\\"enable_partial_output\\\": false, \\\"disable_telemetry\\\": false}\", \"bandish_hierarchy\": \"task\", \"hierarchy_name\": \"bandish\", \"time_taken\": 0.36599016189575195, \"output_branch_name\": \"\", \"pull_request_url\": \"\", \"code_metrics\": [], \"stage_metrics\": []}"}
