{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 47, "message": "Creating staging directory C:/Users/yunl/staging/912b6d99-c0ae-48fd-b72d-65361f77f21c"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 49, "message": "Creating source directory C:/Users/yunl/staging/912b6d99-c0ae-48fd-b72d-65361f77f21c/s"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 54, "message": "Creating KB directory C:/Users/yunl/staging/912b6d99-c0ae-48fd-b72d-65361f77f21c/kb"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 56, "message": "Creating config directory C:/Users/yunl/staging/912b6d99-c0ae-48fd-b72d-65361f77f21c/.config"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 58, "message": "Creating cache directory C:/Users/yunl/cache/912b6d99-c0ae-48fd-b72d-65361f77f21c"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\handlers\\local_setup_handler.py", "caller_name": "setup_staging_directory", "caller_line": 60, "message": "Creating telemetry directory C:/Users/yunl/telemetry/912b6d99-c0ae-48fd-b72d-65361f77f21c"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\bandish_setup_utils.py", "caller_name": "fetch_source_documents", "caller_line": 57, "message": "Fetching source documents from \"C:\\repos\\BandishFramework\\samples\\planning\\iterative\\ILogger_best_practice/input\""}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\setup\\bandish_setup_utils.py", "caller_name": "fetch_kb_documents", "caller_line": 133, "message": "Fetching KB documents from \"C:\\repos\\BandishFramework\\samples\\planning\\iterative\\ILogger_best_practice/kb\""}
{"time": "2024-06-21 16:27:37", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\llm_response_cache.py", "caller_name": "_load_from_file", "caller_line": 140, "message": "Cache file \"C:/Users/yunl/cache/912b6d99-c0ae-48fd-b72d-65361f77f21c/completions_cache.pkl\" does not exist"}
{"time": "2024-06-21 16:27:37", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\llm_response_cache.py", "caller_name": "_load_from_file", "caller_line": 140, "message": "Cache file \"C:/Users/yunl/cache/912b6d99-c0ae-48fd-b72d-65361f77f21c/embeddings_cache.pkl\" does not exist"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "load", "caller_line": 87, "message": "Loading workspace content"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_source_documents", "caller_line": 113, "message": "Loaded \"1\" source documents"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_kb_documents", "caller_line": 133, "message": "Loaded \"4\" KB documents"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_scenario_documents", "caller_line": 143, "message": "Loaded \"2\" scenario documents"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_regex_documents", "caller_line": 153, "message": "Loaded \"1\" regex documents"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish.py", "caller_name": "setup_task", "caller_line": 93, "message": "Completed Bandish setup for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\" time taken: 1.308922290802002 seconds"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish.py", "caller_name": "run_task", "caller_line": 108, "message": "Starting Bandish run for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\workflow_engine.py", "caller_name": "execute", "caller_line": 41, "message": "Executing workflow for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\workflow_planner.py", "caller_name": "plan_next_stage", "caller_line": 71, "message": "Planning next workflow stages for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 63, "message": "Found \"1\" source documents in \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\"."}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 64, "message": "Found \"4\" KB documents in \"C:/Users/yunl/staging/912b6d99-c0ae-48fd-b72d-65361f77f21c/kb\"."}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\selection\\document_selector.py", "caller_name": "select_source_documents", "caller_line": 73, "message": "Selected \"1\" source documents from \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\": C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs"}
{"time": "2024-06-21 16:27:37", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\code_graph\\code_graph.py", "caller_name": "build", "caller_line": 75, "message": "Building code graph for \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\"."}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\workflow_engine.py", "caller_name": "execute", "caller_line": 48, "message": "Executing workflow stage \"stage_1\" for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "load", "caller_line": 87, "message": "Loading workspace content"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_source_documents", "caller_line": 113, "message": "Loaded \"1\" source documents"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_kb_documents", "caller_line": 133, "message": "Loaded \"4\" KB documents"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_scenario_documents", "caller_line": 143, "message": "Loaded \"2\" scenario documents"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "_load_all_regex_documents", "caller_line": 153, "message": "Loaded \"1\" regex documents"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\action\\bandish_action.py", "caller_name": "_log_execution_started", "caller_line": 220, "message": "Executing action \"transform_code[transform_code_1]\" with input:max_prompt_retries(\"3\")."}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.TriggerRPaasAdminDeleteApi\"."}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:27:39", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:28:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:28:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor `ILogger` API calls to use compile-time logging source generation with `LoggerMessageAttribute`. OriginalCode@54-144: ```csharp [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [76]     public async Task TriggerRPaasAdminDeleteApi(RpaasAdminDeleteResource rpaasAdminDeleteResource) [77]     { [78]         rpaasAdminDeleteResource.GuardNull(); [79]         string endpoint = \"rpaas/deleteResources\"; [80]         logger.LogInformation($\"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\"); [81]         using HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, endpoint); [82]         await CommonUtils.AuthenticateRequestFromHk(hkMetaRpProxyAuthProvider, request, null); [83]         logger.LogInformation($\"Successfully authenticated the request for Admin Apis\"); [84] [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         logger.LogInformation($\"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\"); [87] [88]         request.Content = new StringContent(serializedProperties); [89]         request.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\"); [90] [91]         HttpResponseMessage result = null; [92]         try [93]         { [94]             result = await httpClient.SendAsync(request); [95]         } [96]         catch (HttpRequestException e) [97]         { [98]             string message = $\"Failed to trigger admin delete api for resource {rpaasAdminDeleteResource}\"; [99]             logger.LogError(e, message); [100]            throw new ResponseException( [101]                statusCode: e.StatusCode.GetDefaultStatusCode(), [102]                errorCode: ErrorCode.RpaasAdminApiDeleteFailed, [103]                target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [104]                message: message, [105]                details: CommonUtils.CreateErrorDetails(e.Message, e.StackTrace, e.InnerException), [106]                innerException: e [107]            ); [108] [109]        } [110] [111]        if (result.IsSuccessStatusCode) [112]        { [113]            logger.LogInformation(\"received success response for : {requestURI}\", request.RequestUri); [114]            return; [115]        } [116]        else [117]        { [118]            string response = await result.Content.ReadAsStringAsync(); [119]            logger.LogError($\"POST Rpaas Admin Delete API on {endpoint} failed. Response: {result.StatusCode} {response}\"); [120] [121]            ErrorResponse errorResponse = CommonUtils.TryReadErrorResponse(response, serializerOptions); [122] [123]            if (result.StatusCode == HttpStatusCode.NotFound) [124]            { [125]                throw new ResponseException( [126]                    statusCode: HttpStatusCode.NotFound, [127]                    errorCode: ErrorCode.RpaasAdminDeleteApiNotFound, [128]                    target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [129]                    message: $\"Failed to trigger delete call using admin api, Resources = {rpaasAdminDeleteResource}, endpoint = {endpoint}\" [130]                ); [131]            } [132]            else [133]            { [134]                throw new ResponseException( [135]                    statusCode: result.StatusCode, [136]                    errorCode: ErrorCode.RpaasAdminApiDeleteFailed, [137]                    target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [138]                    message: $\"Failed to trigger delete call using admin api, Resources = {rpaasAdminDeleteResource}, endpoint = {endpoint}\", [139]                    details: errorResponse != null ? new List<ErrorDetail> { errorResponse.Error } : null [140]                ); [141]            } [142]        } [143]    } [144] ``` ChangedCode@54-144: ```csharp [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private static partial class MetaRpProxyProviderClientLoggingExtensions [57]     { [58]         [LoggerMessage(Level = LogLevel.Information, Message = \"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\")] [59]         public static partial void LogTriggeringRpaasAdminDeleteCall(this ILogger logger, string endpoint, string rpaasAdminDeleteResource); [60]          [61]         [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully authenticated the request for Admin Apis\")] [62]         public static partial void LogSuccessfullyAuthenticatedRequest(this ILogger logger); [63]          [64]         [LoggerMessage(Level = LogLevel.Information, Message = \"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\")] [65]         public static partial void LogRpaasAdminDeleteResourceSerialized(this ILogger logger, string serializedProperties); [66]          [67]         [LoggerMessage(Level = LogLevel.Information, Message = \"received success response for : {requestURI}\")] [68]         public static partial void LogReceivedSuccessResponse(this ILogger logger, Uri requestURI); [69]          [70]         [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to trigger admin delete api for resource {rpaasAdminDeleteResource}\")] [71]         public static partial void LogFailedToTriggerAdminDeleteApi(this ILogger logger, Exception exception, string rpaasAdminDeleteResource); [72]          [73]         [LoggerMessage(Level = LogLevel.Error, Message = \"POST Rpaas Admin Delete API on {endpoint} failed. Response: {statusCode} {response}\")] [74]         public static partial void LogPostRpaasAdminDeleteApiFailed(this ILogger logger, string endpoint, HttpStatusCode statusCode, string response); [75]     } [76]     public async Task TriggerRPaasAdminDeleteApi(RpaasAdminDeleteResource rpaasAdminDeleteResource) [77]     { [78]         rpaasAdminDeleteResource.GuardNull(); [79]         string endpoint = \"rpaas/deleteResources\"; [80]         logger.LogTriggeringRpaasAdminDeleteCall(endpoint, rpaasAdminDeleteResource.ToString()); [81]         using HttpRequestMessage request = new HttpRequestMessage(HttpMethod.Post, endpoint); [82]         await CommonUtils.AuthenticateRequestFromHk(hkMetaRpProxyAuthProvider, request, null); [83]         logger.LogSuccessfullyAuthenticatedRequest(); [84] [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         logger.LogRpaasAdminDeleteResourceSerialized(serializedProperties); [87] [88]         request.Content = new StringContent(serializedProperties); [89]         request.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\"); [90] [91]         HttpResponseMessage result = null; [92]         try [93]         { [94]             result = await httpClient.SendAsync(request); [95]         } [96]         catch (HttpRequestException e) [97]         { [98]             logger.LogFailedToTriggerAdminDeleteApi(e, rpaasAdminDeleteResource.ToString()); [99]             string message = \"Failed to trigger admin delete api for resource\"; [100]            throw new ResponseException( [101]                statusCode: e.StatusCode.GetDefaultStatusCode(), [102]                errorCode: ErrorCode.RpaasAdminApiDeleteFailed, [103]                target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [104]                message: message, [105]                details: CommonUtils.CreateErrorDetails(e.Message, e.StackTrace, e.InnerException), [106]                innerException: e [107]            ); [108] [109]        } [110] [111]        if (result.IsSuccessStatusCode) [112]        { [113]            logger.LogReceivedSuccessResponse(request.RequestUri); [114]            return; [115]        } [116]        else [117]        { [118]            string response = await result.Content.ReadAsStringAsync(); [119]            logger.LogPostRpaasAdminDeleteApiFailed(endpoint, result.StatusCode, response); [120] [121]            ErrorResponse errorResponse = CommonUtils.TryReadErrorResponse(response, serializerOptions); [122] [123]            if (result.StatusCode == HttpStatusCode.NotFound) [124]            { [125]                throw new ResponseException( [126]                    statusCode: HttpStatusCode.NotFound, [127]                    errorCode: ErrorCode.RpaasAdminDeleteApiNotFound, [128]                    target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [129]                    message: $\"Failed to trigger delete call using admin api, Resources = {rpaasAdminDeleteResource}, endpoint = {endpoint}\" [130]                ); [131]            } [132]            else [133]            { [134]                throw new ResponseException( [135]                    statusCode: result.StatusCode, [136]                    errorCode: ErrorCode.RpaasAdminApiDeleteFailed, [137]                    target: CommonConstants.MetaRpProxyRpaaSAdminDeleteAPITarget, [138]                    message: $\"Failed to trigger delete call using admin api, Resources = {rpaasAdminDeleteResource}, endpoint = {endpoint}\", [139]                    details: errorResponse != null ? new List<ErrorDetail> { errorResponse.Error } : null [140]                ); [141]            } [142]        } [143]    } [144] ```"}
{"time": "2024-06-21 16:28:45", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"```csharp\" is not in the expected format so the \"^\\[(\\d+)\\](.*)$\" regex fails."}
{"time": "2024-06-21 16:28:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:28:45", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:29:24", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:29:24", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor the ILogger API calls to use compile-time logging source generation. OriginalCode@54-80: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [80]         logger.LogInformation($\"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\"); ChangedCode@54-80: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [80]         MetaRpProxyProviderClientLoggingExtensions.TriggeringRpaasAdminDeleteCall(logger, endpoint, rpaasAdminDeleteResource);  OriginalCode@83-86: [83]         logger.LogInformation($\"Successfully authenticated the request for Admin Apis\"); [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         logger.LogInformation($\"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\"); ChangedCode@83-86: [83]         MetaRpProxyProviderClientLoggingExtensions.SuccessfullyAuthenticatedRequestForAdminApis(logger); [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         MetaRpProxyProviderClientLoggingExtensions.RpaasAdminDeleteResourceObtainedAfterSerializing(logger, serializedProperties);  OriginalCode@99-99: [99]             logger.LogError(e, message); ChangedCode@99-99: [99]             MetaRpProxyProviderClientLoggingExtensions.FailedToTriggerAdminDeleteApi(logger, e, rpaasAdminDeleteResource);  OriginalCode@113-113: [113]            logger.LogInformation(\"received success response for : {requestURI}\", request.RequestUri); ChangedCode@113-113: [113]            MetaRpProxyProviderClientLoggingExtensions.ReceivedSuccessResponse(logger, request.RequestUri);  OriginalCode@119-119: [119]            logger.LogError($\"POST Rpaas Admin Delete API on {endpoint} failed. Response: {result.StatusCode} {response}\"); ChangedCode@119-119: [119]            MetaRpProxyProviderClientLoggingExtensions.PostRpaasAdminDeleteApiFailed(logger, endpoint, result.StatusCode, response);  OriginalCode@6-22: [6]  namespace Microsoft.AzureStackHCI.ServiceCommon.Services; [7] [8]  using Microsoft.AzureStackHCI.Common.Extensions; [9]  using Microsoft.AzureStackHCI.Common.Models; [10] using Microsoft.AzureStackHCI.Common.Util; [11] using Microsoft.AzureStackHCI.ServiceCommon.Models; [12] using Microsoft.Extensions.Logging; [13] using System.Collections.Generic; [14] using System.Net; [15] using System.Net.Http; [16] using System.Net.Http.Headers; [17] using System.Text.Json; [18] using System.Text.Json.Serialization; [19] using System.Threading.Tasks; [20] using static Microsoft.AzureStackHCI.Common.Models.LogMessageTemplateConstants; [21] using Cluster = Common.Models.Cluster; [22] ChangedCode@6-22: [6]  namespace Microsoft.AzureStackHCI.ServiceCommon.Services; [7] [8]  using Microsoft.AzureStackHCI.Common.Extensions; [9]  using Microsoft.AzureStackHCI.Common.Models; [10] using Microsoft.AzureStackHCI.Common.Util; [11] using Microsoft.AzureStackHCI.ServiceCommon.Models; [12] using Microsoft.Extensions.Logging; [13] using System.Collections.Generic; [14] using System.Net; [15] using System.Net.Http; [16] using System.Net.Http.Headers; [17] using System.Text.Json; [18] using System.Text.Json.Serialization; [19] using System.Threading.Tasks; [20] using static Microsoft.AzureStackHCI.Common.Models.LogMessageTemplateConstants; [21] using Cluster = Common.Models.Cluster; [22] [22] public static partial class MetaRpProxyProviderClientLoggingExtensions [23] { [24]     [LoggerMessage(Level = LogLevel.Information, Message = \"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {resource}\")] [25]     public static partial void TriggeringRpaasAdminDeleteCall(this ILogger logger, string endpoint, RpaasAdminDeleteResource resource); [26] [27]     [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully authenticated the request for Admin Apis\")] [28]     public static partial void SuccessfullyAuthenticatedRequestForAdminApis(this ILogger logger); [29] [30]     [LoggerMessage(Level = LogLevel.Information, Message = \"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\")] [31]     public static partial void RpaasAdminDeleteResourceObtainedAfterSerializing(this ILogger logger, string serializedProperties); [32] [33]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to trigger admin delete api for resource {resource}\")] [34]     public static partial void FailedToTriggerAdminDeleteApi(this ILogger logger, Exception exception, RpaasAdminDeleteResource resource); [35] [36]     [LoggerMessage(Level = LogLevel.Information, Message = \"Received success response for : {requestUri}\")] [37]     public static partial void ReceivedSuccessResponse(this ILogger logger, Uri requestUri); [38] [39]     [LoggerMessage(Level = LogLevel.Error, Message = \"POST Rpaas Admin Delete API on {endpoint} failed. Response: {statusCode} {response}\")] [40]     public static partial void PostRpaasAdminDeleteApiFailed(this ILogger logger, string endpoint, HttpStatusCode statusCode, string response); [41] } [42]"}
{"time": "2024-06-21 16:29:24", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"[80]         logger.LogInformation($\"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\");\" in the original code slice does not have the expected \"56\" consecutive line number."}
{"time": "2024-06-21 16:29:24", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:29:24", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor the `ILogger` API logger calls to use compile-time logging source generation. OriginalCode@54-80: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [76]     public async Task TriggerRPaasAdminDeleteApi(RpaasAdminDeleteResource rpaasAdminDeleteResource) [77]     { [78]         rpaasAdminDeleteResource.GuardNull(); [79]         string endpoint = \"rpaas/deleteResources\"; [80]         logger.LogInformation($\"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\"); ChangedCode@54-80: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private static partial class MetaRpProxyProviderClientLoggingExtensions [57]     { [58]         [LoggerMessage(Level = LogLevel.Information, Message = \"Triggering Rpaas Admin Delete call for endpoint {endpoint} and resource {rpaasAdminDeleteResource}\")] [59]         public static partial void LogTriggeringRpaasAdminDeleteCall(this ILogger logger, string endpoint, string rpaasAdminDeleteResource); [60]     } [76]     public async Task TriggerRPaasAdminDeleteApi(RpaasAdminDeleteResource rpaasAdminDeleteResource) [77]     { [78]         rpaasAdminDeleteResource.GuardNull(); [79]         string endpoint = \"rpaas/deleteResources\"; [80]         MetaRpProxyProviderClientLoggingExtensions.LogTriggeringRpaasAdminDeleteCall(logger, endpoint, rpaasAdminDeleteResource.ToString()); OriginalCode@83-86: [83]         logger.LogInformation($\"Successfully authenticated the request for Admin Apis\"); [84] [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         logger.LogInformation($\"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\"); ChangedCode@83-86: [83]         MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyAuthenticatedRequest(logger); [84] [85]         string serializedProperties = JsonSerializer.Serialize(rpaasAdminDeleteResource, serializerOptions); [86]         MetaRpProxyProviderClientLoggingExtensions.LogRpaasAdminDeleteResourceObtained(logger, serializedProperties); OriginalCode@98-99: [98]             string message = $\"Failed to trigger admin delete api for resource {rpaasAdminDeleteResource}\"; [99]             logger.LogError(e, message); ChangedCode@98-99: [98]             string message = $\"Failed to trigger admin delete api for resource {rpaasAdminDeleteResource}\"; [99]             MetaRpProxyProviderClientLoggingExtensions.LogFailedToTriggerAdminDeleteApi(logger, e, rpaasAdminDeleteResource.ToString()); OriginalCode@113-113: [113]            logger.LogInformation(\"received success response for : {requestURI}\", request.RequestUri); ChangedCode@113-113: [113]            MetaRpProxyProviderClientLoggingExtensions.LogReceivedSuccessResponse(logger, request.RequestUri.ToString()); OriginalCode@119-119: [119]            logger.LogError($\"POST Rpaas Admin Delete API on {endpoint} failed. Response: {result.StatusCode} {response}\"); ChangedCode@119-119: [119]            MetaRpProxyProviderClientLoggingExtensions.LogPostRpaasAdminDeleteApiFailed(logger, endpoint, result.StatusCode.ToString(), response);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Add the missing logging extension methods to the partial class. OriginalCode@55-55: [55] { ChangedCode@55-62: [55] { [56]     private static partial class MetaRpProxyProviderClientLoggingExtensions [57]     { [58]         [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully authenticated the request for Admin Apis\")] [59]         public static partial void LogSuccessfullyAuthenticatedRequest(this ILogger logger); [60]          [61]         [LoggerMessage(Level = LogLevel.Information, Message = \"Rpaas Admin Delete resource obtained after serializing {serializedProperties}\")] [62]         public static partial void LogRpaasAdminDeleteResourceObtained(this ILogger logger, string serializedProperties); [63]          [64]         [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to trigger admin delete api for resource {rpaasAdminDeleteResource}\")] [65]         public static partial void LogFailedToTriggerAdminDeleteApi(this ILogger logger, Exception exception, string rpaasAdminDeleteResource); [66]          [67]         [LoggerMessage(Level = LogLevel.Information, Message = \"Received success response for : {requestUri}\")] [68]         public static partial void LogReceivedSuccessResponse(this ILogger logger, string requestUri); [69]          [70]         [LoggerMessage(Level = LogLevel.Error, Message = \"POST Rpaas Admin Delete API on {endpoint} failed. Response: {statusCode} {response}\")] [71]         public static partial void LogPostRpaasAdminDeleteApiFailed(this ILogger logger, string endpoint, string statusCode, string response); [72]     } ---"}
{"time": "2024-06-21 16:30:01", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"[76]     public async Task TriggerRPaasAdminDeleteApi(RpaasAdminDeleteResource rpaasAdminDeleteResource)\" in the original code slice does not have the expected \"56\" consecutive line number."}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:30:01", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.GetClusterResources\"."}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:30:01", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor `ILogger` API logger calls to use compile-time logging source generation by creating extension methods with `LoggerMessageAttribute`. OriginalCode@151-151: [151]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(Cluster), endpoint); ChangedCode@151-151: [151]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(Cluster), endpoint);  OriginalCode@161-161: [161]                logger.LogInformation($\"No cluster resource found on endpoint [{LogMessageTemplateConstants.Endpoint}] in meta RP\", endpoint); ChangedCode@161-161: [161]                MetaRpProxyProviderClientLoggingExtensions.LogNoClusterResourceFound(logger, endpoint);  OriginalCode@168-168: [168]            logger.LogInformation(\"Number of clusters returned from metarp proxy in this page [{}] \", clusters.Count); ChangedCode@168-168: [168]            MetaRpProxyProviderClientLoggingExtensions.LogNumberOfClustersReturned(logger, clusters.Count);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Define the static partial class with extension methods for logging, using the `LoggerMessageAttribute`. OriginalCode@54-54: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient ChangedCode@54-56: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private static partial class MetaRpProxyProviderClientLoggingExtensions [57]     { [58]         [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch [{resourceType}] resources from meta RP Proxy [{endpoint}]\")] [59]         public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [60]  [61]         [LoggerMessage(Level = LogLevel.Information, Message = \"No cluster resource found on endpoint [{endpoint}] in meta RP\")] [62]         public static partial void LogNoClusterResourceFound(this ILogger logger, string endpoint); [63]  [64]         [LoggerMessage(Level = LogLevel.Information, Message = \"Number of clusters returned from metarp proxy in this page [{count}]\")] [65]         public static partial void LogNumberOfClustersReturned(this ILogger logger, int count); [66]     } [67] }"}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"1\" unique changelogs."}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.GetUpdateSummary\"."}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:30:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor ILogger API calls to use compile-time logging source generation with LoggerMessageAttribute. OriginalCode@198-198: [198]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(UpdateSummaries), endpoint); ChangedCode@198-198: [198]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(UpdateSummaries), endpoint);  OriginalCode@212-212: [212]        logger.LogInformation($\"Successfully fetched cluster updates summary from meta RP Proxy, IsNull: {updateSummaries == null}\"); ChangedCode@212-212: [212]        MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedClusterUpdatesSummary(logger, updateSummaries == null);  OriginalCode@222-222: [222]        logger.LogInformation($\"No update summary found in meta RP for resource {resourceId}\"); ChangedCode@222-222: [222]        MetaRpProxyProviderClientLoggingExtensions.LogNoUpdateSummaryFound(logger, resourceId);  OriginalCode@237-237: [237]            logger.LogError(e, message); ChangedCode@237-237: [237]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateSummaries(logger, resourceId, e);  OriginalCode@248-248: [248]            logger.LogError($\"Failed to retrieve update summaries for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@248-248: [248]            MetaRpProxyProviderClientLoggingExtensions.LogErrorExceptionOccurred(logger, resourceId, ex);  OriginalCode@54-55: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { ChangedCode@54-56: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private static partial class MetaRpProxyProviderClientLoggingExtensions [57]     { [58]         [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [59]         public static partial void LogTryingToFetchResources(ILogger logger, Type resourceType, string endpoint); [60]  [61]         [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched cluster updates summary from meta RP Proxy, IsNull: {IsNull}\")] [62]         public static partial void LogSuccessfullyFetchedClusterUpdatesSummary(ILogger logger, bool isNull); [63]  [64]         [LoggerMessage(Level = LogLevel.Information, Message = \"No update summary found in meta RP for resource {ResourceId}\")] [65]         public static partial void LogNoUpdateSummaryFound(ILogger logger, string resourceId); [66]  [67]         [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update summaries for resource {ResourceId}\")] [68]         public static partial void LogErrorRetrievingUpdateSummaries(ILogger logger, string resourceId, Exception exception); [69]  [70]         [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update summaries for resource {ResourceId}, exception occurred: {Exception}\")] [71]         public static partial void LogErrorExceptionOccurred(ILogger logger, string resourceId, Exception exception); [72]     } [73] }"}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"1\" unique changelogs."}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.GetUpdates\"."}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:30:45", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:31:08", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:31:08", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor the ILogger API logger calls to use compile-time logging source generation. OriginalCode@54-56: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private readonly ILogger<MetaRpProxyProviderClient> logger; ChangedCode@54-56: [54] public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]     private readonly ILogger<MetaRpProxyProviderClient> logger;  OriginalCode@256-256: [256]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(Update), endpoint); ChangedCode@256-256: [256]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(Update), endpoint);  OriginalCode@270-270: [270]        logger.LogInformation($\"Successfully fetched updates list from meta RP Proxy, count: {updates?.Count()}\"); ChangedCode@270-270: [270]        MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedUpdatesList(logger, updates?.Count());  OriginalCode@280-280: [280]        logger.LogInformation($\"No updates found in meta RP for resource {resourceId}\"); ChangedCode@280-280: [280]        MetaRpProxyProviderClientLoggingExtensions.LogNoUpdatesFoundInMetaRP(logger, resourceId);  OriginalCode@295-295: [295]            logger.LogError(e, message); ChangedCode@295-295: [295]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdates(logger, resourceId, e);  OriginalCode@306-306: [306]            logger.LogError($\"Failed to retrieve updates for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@306-306: [306]            MetaRpProxyProviderClientLoggingExtensions.LogErrorExceptionOccurred(logger, resourceId, ex);  OriginalCode@429-429]: [429] } ChangedCode@429-439]: [429] } [430] [431] public static partial class MetaRpProxyProviderClientLoggingExtensions [432] { [433]     [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [434]     public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [435] [436]     [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched updates list from meta RP Proxy, count: {Count}\")] [437]     public static partial void LogSuccessfullyFetchedUpdatesList(this ILogger logger, int? count); [438] [439]     [LoggerMessage(Level = LogLevel.Information, Message = \"No updates found in meta RP for resource {ResourceId}\")] [440]     public static partial void LogNoUpdatesFoundInMetaRP(this ILogger logger, string resourceId); [441] [442]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve updates for resource {ResourceId}\")] [443]     public static partial void LogErrorRetrievingUpdates(this ILogger logger, string resourceId, Exception exception); [444] [445]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve updates for resource {ResourceId}, exception occurred: {Exception}\")] [446]     public static partial void LogErrorExceptionOccurred(this ILogger logger, string resourceId, Exception exception); [447] }"}
{"time": "2024-06-21 16:31:08", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"OriginalCode@429-429]:\" is not in the expected format so the \"^\\[(\\d+)\\](.*)$\" regex fails."}
{"time": "2024-06-21 16:31:08", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:31:08", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:31:31", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:31:31", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor ILogger API calls to use compile-time logging source generation. OriginalCode@256-256: [256]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(Update), endpoint); ChangedCode@256-256: [256]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(Update), endpoint);  OriginalCode@270-270: [270]        logger.LogInformation($\"Successfully fetched updates list from meta RP Proxy, count: {updates?.Count()}\"); ChangedCode@270-270: [270]        MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedUpdates(logger, updates?.Count());  OriginalCode@280-280: [280]        logger.LogInformation($\"No updates found in meta RP for resource {resourceId}\"); ChangedCode@280-280: [280]        MetaRpProxyProviderClientLoggingExtensions.LogNoUpdatesFound(logger, resourceId);  OriginalCode@295-295: [295]            logger.LogError(e, message); ChangedCode@295-295: [295]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdates(logger, resourceId, e);  OriginalCode@306-306: [306]            logger.LogError($\"Failed to retrieve updates for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@306-306: [306]            MetaRpProxyProviderClientLoggingExtensions.LogErrorExceptionOccurred(logger, resourceId, ex);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Define the static partial class with extension methods for logging. OriginalCode@54-54: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient ChangedCode@54-62: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56] } [57] [58] public static partial class MetaRpProxyProviderClientLoggingExtensions [59] { [60]     [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [61]     public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [62]      [63]     [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched updates list from meta RP Proxy, count: {Count}\")] [64]     public static partial void LogSuccessfullyFetchedUpdates(this ILogger logger, int? count); [65]      [66]     [LoggerMessage(Level = LogLevel.Information, Message = \"No updates found in meta RP for resource {ResourceId}\")] [67]     public static partial void LogNoUpdatesFound(this ILogger logger, string resourceId); [68]      [69]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve updates for resource {ResourceId}\")] [70]     public static partial void LogErrorRetrievingUpdates(this ILogger logger, string resourceId, Exception exception); [71]      [72]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve updates for resource {ResourceId}, exception occurred: {Exception}\")] [73]     public static partial void LogErrorExceptionOccurred(this ILogger logger, string resourceId, Exception exception); [74] }"}
{"time": "2024-06-21 16:31:32", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"1\" unique changelogs."}
{"time": "2024-06-21 16:31:32", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.GetUpdateRuns\"."}
{"time": "2024-06-21 16:31:32", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:31:32", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:31:32", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:31:57", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:31:57", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor ILogger API calls to use compile-time logging source generation. OriginalCode@54-314: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { ... [314]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(UpdateRuns), endpoint); ChangedCode@54-314: [54] public static partial class MetaRpProxyProviderClientLoggingExtensions [55] { ... [314]        [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [315]        public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [316] } [317] [318] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [319] { ... [320]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(UpdateRuns), endpoint); OriginalCode@328-328: [328]                logger.LogInformation($\"Successfully fetched update runs list from meta RP Proxy, count: {updateRuns?.Count()}\"); ChangedCode@328-328: [328]                MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedUpdateRunsList(logger, updateRuns?.Count()); OriginalCode@338-338: [338]                logger.LogInformation($\"No update runs found in meta RP for resource {resourceId}\"); ChangedCode@338-338: [338]                MetaRpProxyProviderClientLoggingExtensions.LogNoUpdateRunsFoundInMetaRP(logger, resourceId); OriginalCode@353-353: [353]            logger.LogError(e, message); ChangedCode@353-353: [353]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateRuns(logger, e, resourceId); OriginalCode@364-364: [364]            logger.LogError($\"Failed to retrieve update runs for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@364-364: [364]            MetaRpProxyProviderClientLoggingExtensions.LogErrorExceptionOccurred(logger, resourceId, ex);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Add extension methods to the logging helper class for structured logging. OriginalCode@54-55: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { ChangedCode@54-55: [54] public static partial class MetaRpProxyProviderClientLoggingExtensions [55] { [56]     [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched update runs list from meta RP Proxy, count: {Count}\")] [57]     public static partial void LogSuccessfullyFetchedUpdateRunsList(this ILogger logger, int? count); [58] [59]     [LoggerMessage(Level = LogLevel.Information, Message = \"No update runs found in meta RP for resource {ResourceId}\")] [60]     public static partial void LogNoUpdateRunsFoundInMetaRP(this ILogger logger, string resourceId); [61] [62]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}\")] [63]     public static partial void LogErrorRetrievingUpdateRuns(this ILogger logger, Exception exception, string resourceId); [64] [65]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}, exception occurred: {Exception}\")] [66]     public static partial void LogErrorExceptionOccurred(this ILogger logger, string resourceId, Exception exception); [67] } [68] [69] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [70] {"}
{"time": "2024-06-21 16:31:57", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"...\" is not in the expected format so the \"^\\[(\\d+)\\](.*)$\" regex fails."}
{"time": "2024-06-21 16:31:57", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:31:57", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:32:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:32:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor the `ILogger` API calls to use compile-time logging source generation with the `LoggerMessageAttribute`. OriginalCode@54-55: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { ChangedCode@54-55: [54] public static partial class MetaRpProxyProviderClientLoggingExtensions [55] {  OriginalCode@314-314: [314]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(UpdateRuns), endpoint); ChangedCode@314-314: [314]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(UpdateRuns), endpoint);  OriginalCode@328-328: [328]                logger.LogInformation($\"Successfully fetched update runs list from meta RP Proxy, count: {updateRuns?.Count()}\"); ChangedCode@328-328: [328]                MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedUpdateRuns(logger, updateRuns?.Count());  OriginalCode@338-338: [338]                logger.LogInformation($\"No update runs found in meta RP for resource {resourceId}\"); ChangedCode@338-338: [338]                MetaRpProxyProviderClientLoggingExtensions.LogNoUpdateRunsFound(logger, resourceId);  OriginalCode@353-353: [353]            logger.LogError(e, message); ChangedCode@353-353: [353]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateRuns(logger, resourceId, e);  OriginalCode@364-364: [364]            logger.LogError($\"Failed to retrieve update runs for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@364-364: [364]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateRunWithException(logger, resourceId, ex);  OriginalCode@429-429]: [429]} ChangedCode@429-429]: [429]    [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [430]    public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [431]     [432]    [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched update runs list from meta RP Proxy, count: {Count}\")] [433]    public static partial void LogSuccessfullyFetchedUpdateRuns(this ILogger logger, int? count); [434]     [435]    [LoggerMessage(Level = LogLevel.Information, Message = \"No update runs found in meta RP for resource {ResourceId}\")] [436]    public static partial void LogNoUpdateRunsFound(this ILogger logger, string resourceId); [437]     [438]    [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}\")] [439]    public static partial void LogErrorRetrievingUpdateRuns(this ILogger logger, string resourceId, Exception exception); [440]     [441]    [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}, exception occurred: {Exception}\")] [442]    public static partial void LogErrorRetrievingUpdateRunWithException(this ILogger logger, string resourceId, Exception exception); [443]}"}
{"time": "2024-06-21 16:32:19", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 56, "message": "The changelog format of response \"0\" was not correct: Failed to parse changelog response: Line \"OriginalCode@429-429]:\" is not in the expected format so the \"^\\[(\\d+)\\](.*)$\" regex fails."}
{"time": "2024-06-21 16:32:19", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"0\" unique changelogs."}
{"time": "2024-06-21 16:32:19", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\source_code_transform.py", "caller_name": "transform_next", "caller_line": 82, "message": "The language model API failed to generate any valid changelogs: Failed to parse any valid changelogs."}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor ILogger API calls to use compile-time logging source generation. OriginalCode@54-55: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { ChangedCode@54-55: [54] public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { OriginalCode@314-314: [314]        logger.LogInformation($\"Trying to fetch [{EmptyPlaceholder}] resources from meta RP Proxy [{EmptyPlaceholder}]\", typeof(UpdateRuns), endpoint); ChangedCode@314-314: [314]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchResources(logger, typeof(UpdateRuns), endpoint); OriginalCode@328-328: [328]                logger.LogInformation($\"Successfully fetched update runs list from meta RP Proxy, count: {updateRuns?.Count()}\"); ChangedCode@328-328: [328]                MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedUpdateRunsList(logger, updateRuns?.Count()); OriginalCode@338-338: [338]                logger.LogInformation($\"No update runs found in meta RP for resource {resourceId}\"); ChangedCode@338-338: [338]                MetaRpProxyProviderClientLoggingExtensions.LogNoUpdateRunsFound(logger, resourceId); OriginalCode@353-353: [353]            logger.LogError(e, message); ChangedCode@353-353: [353]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateRuns(logger, resourceId, e); OriginalCode@364-364: [364]            logger.LogError($\"Failed to retrieve update runs for resource {resourceId}, exception occurred: {ex}\"); ChangedCode@364-364: [364]            MetaRpProxyProviderClientLoggingExtensions.LogErrorRetrievingUpdateRunsException(logger, resourceId, ex);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Define the static partial class with extension methods for logging, using LoggerMessageAttribute for compile-time source generation. OriginalCode@22-22: [22] ChangedCode@22-22: [22] public static partial class MetaRpProxyProviderClientLoggingExtensions [23] { [24]     [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch {ResourceType} resources from meta RP Proxy {Endpoint}\")] [25]     public static partial void LogTryingToFetchResources(this ILogger logger, Type resourceType, string endpoint); [26] [27]     [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched update runs list from meta RP Proxy, count: {Count}\")] [28]     public static partial void LogSuccessfullyFetchedUpdateRunsList(this ILogger logger, int? count); [29] [30]     [LoggerMessage(Level = LogLevel.Information, Message = \"No update runs found in meta RP for resource {ResourceId}\")] [31]     public static partial void LogNoUpdateRunsFound(this ILogger logger, string resourceId); [32] [33]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}\")] [34]     public static partial void LogErrorRetrievingUpdateRuns(this ILogger logger, string resourceId, Exception exception); [35] [36]     [LoggerMessage(Level = LogLevel.Error, Message = \"Failed to retrieve update runs for resource {ResourceId}, exception occurred: {Exception}\")] [37]     public static partial void LogErrorRetrievingUpdateRunsException(this ILogger logger, string resourceId, Exception exception); [38] }"}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"1\" unique changelogs."}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\strategies\\planning_strategy.py", "caller_name": "_log_planned_block", "caller_line": 243, "message": "Planning next \"function\" block \"MetaRpProxyProviderClient.GetCollectionPage\"."}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "execute", "caller_line": 97, "message": "Transform \"transform_code_1\" is processing file \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 53, "message": "Compiling scenario guide"}
{"time": "2024-06-21 16:32:44", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\prompt\\templates\\scenario_guide_builder.py", "caller_name": "build_guide", "caller_line": 59, "message": "Included scenario guide defaults.md"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\llm\\openai_language_model.py", "caller_name": "get_completions", "caller_line": 206, "message": "OpenAILanguageModel: received get-completions API response"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 47, "message": "Parsing changelog \"0\": ChangeLog:1@MetaRpProxyProviderClient.cs Description: Refactor `ILogger` API calls to use compile-time logging source generation with `LoggerMessageAttribute`. OriginalCode@376-376: [376]        logger.LogInformation($\"Trying to fetch cluster collection on endpoint [{LogMessageTemplateConstants.Endpoint}] from meta RP\", endpoint); ChangedCode@376-376: [376]        MetaRpProxyProviderClientLoggingExtensions.LogTryingToFetchClusterCollection(logger, endpoint); OriginalCode@394-394: [394]            logger.LogInformation($\"Successfully fetched cluster collection from meta RP\"); ChangedCode@394-394: [394]            MetaRpProxyProviderClientLoggingExtensions.LogSuccessfullyFetchedClusterCollection(logger); OriginalCode@404-404: [404]            logger.LogInformation(\"No cluster collection found in meta RP\"); ChangedCode@404-404: [404]            MetaRpProxyProviderClientLoggingExtensions.LogNoClusterCollectionFound(logger);  ChangeLog:2@MetaRpProxyProviderClient.cs Description: Define the static partial class with extension methods for logging, using the `LoggerMessageAttribute`. OriginalCode@54-54: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient ChangedCode@54-56: [54] public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient [55] { [56]    private static partial class MetaRpProxyProviderClientLoggingExtensions [57]    { [58]        [LoggerMessage(Level = LogLevel.Information, Message = \"Trying to fetch cluster collection on endpoint [{Endpoint}] from meta RP\")] [59]        public static partial void LogTryingToFetchClusterCollection(this ILogger logger, string endpoint); [60] [61]        [LoggerMessage(Level = LogLevel.Information, Message = \"Successfully fetched cluster collection from meta RP\")] [62]        public static partial void LogSuccessfullyFetchedClusterCollection(this ILogger logger); [63] [64]        [LoggerMessage(Level = LogLevel.Information, Message = \"No cluster collection found in meta RP\")] [65]        public static partial void LogNoClusterCollectionFound(this ILogger logger); [66]    } [67]    // Rest of the class members..."}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\changelog_parser.py", "caller_name": "parse_all", "caller_line": 58, "message": "Parsed \"1\" unique changelogs."}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\transform\\bandish_transform.py", "caller_name": "_apply_top_ranked_code_changes", "caller_line": 198, "message": "Transform \"transform_code_1\" is applying changelog \"0\" with \"27\" code edits."}
{"time": "2024-06-21 16:32:59", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "apply_changes", "caller_line": 103, "message": "Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "edit_documents", "caller_line": 58, "message": "Failed to apply changelog to document \"MetaRpProxyProviderClient.cs\": Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "apply_changes", "caller_line": 103, "message": "Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "edit_documents", "caller_line": 58, "message": "Failed to apply changelog to document \"MetaRpProxyProviderClient.cs\": Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "ERROR", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "apply_changes", "caller_line": 103, "message": "Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "WARNING", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "edit_documents", "caller_line": 58, "message": "Failed to apply changelog to document \"MetaRpProxyProviderClient.cs\": Line [53] \"public class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\" does not match original line \"public partial class MetaRpProxyProviderClient : IMetaRpProxyProviderClient\"."}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\core\\document\\editing\\code_editing_utils.py", "caller_name": "edit", "caller_line": 144, "message": "Edited document \"C:\\Users\\yunl\\staging\\912b6d99-c0ae-48fd-b72d-65361f77f21c\\s\\MetaRpProxyProviderClient.cs\"."}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\api\\action\\bandish_action.py", "caller_name": "_log_execution_finished", "caller_line": 230, "message": "Done executing action \"transform_code[transform_code_1]\" with transition \"success\" and output:changelog_history(\"[<bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D63618AF0>, <bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D636189D0>, <bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D63618580>, <bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D63631360>, <bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D63631300>, <bandish.core.document.editing.changelog.ChangeLog object at 0x0000022D636312A0>, <bandis...\")."}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\workflow_engine.py", "caller_name": "execute", "caller_line": 78, "message": "Done executing workflow stage \"stage_1\" for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\workflow_planner.py", "caller_name": "plan_next_stage", "caller_line": 71, "message": "Planning next workflow stages for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\runtime\\planning\\workflow_planner.py", "caller_name": "plan_next_stage", "caller_line": 78, "message": "Done planning the workflow for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\""}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_output.py", "caller_name": "sanitize", "caller_line": 195, "message": "Sanitizing output"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_output.py", "caller_name": "handle_output", "caller_line": 246, "message": "Handling output in \"return\" mode"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_output.py", "caller_name": "handle_output", "caller_line": 248, "message": "Returning output"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish.py", "caller_name": "run_task", "caller_line": 166, "message": "Completed Bandish run for task \"912b6d99-c0ae-48fd-b72d-65361f77f21c\" time taken: 322.37313294410706 seconds"}
{"time": "2024-06-21 16:32:59", "level": "INFO", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "..\\bandish\\bandish_workspace.py", "caller_name": "save", "caller_line": 268, "message": "Saving workspace content"}
{"time": "2024-06-21 16:32:59", "level": "BANDISHTELEMETRY", "task_id": "912b6d99-c0ae-48fd-b72d-65361f77f21c", "caller_file": "", "caller_name": "", "caller_line": 0, "message": "{\"task_id\": \"912b6d99-c0ae-48fd-b72d-65361f77f21c\", \"config_json\": \"{\\\"organization\\\": \\\"observability\\\", \\\"scenario\\\": \\\"ILogger\\\", \\\"task\\\": \\\"workflow\\\", \\\"task_source\\\": \\\"local\\\", \\\"task_type\\\": null, \\\"parent_task_id\\\": null, \\\"additional_params\\\": null, \\\"workflow_name\\\": null, \\\"workflow_content\\\": \\\"# Workflow for ILogger best practice using iterative planning and a KB.\\\\nBandishWorkflow:\\\\n  name: \\\\\\\"iLogger\\\\\\\"\\\\n  description: \\\\\\\"Migrate from string interpolation to compile-time source generation.\\\\\\\"\\\\n  version: \\\\\\\"1.1.0\\\\\\\"\\\\nparams:\\\\n  code_language: \\\\\\\"csharp\\\\\\\"\\\\nstages:\\\\n  - stage: \\\\\\\"stage_1\\\\\\\"\\\\n    planning:\\\\n      planner: \\\\\\\"iterative\\\\\\\"\\\\n      working_dir: \\\\\\\".\\\\\\\" # The source code directory.\\\\n      code_slice_granularity: [\\\\\\\"file\\\\\\\", \\\\\\\"class\\\\\\\", \\\\\\\"function\\\\\\\"]\\\\n      progressive_code_slicing: True\\\\n      code_slicing_budget: 1500\\\\n      sketch_file: True\\\\n      # filtering:\\\\n      #   - filter: \\\\\\\"keyword\\\\\\\"\\\\n      #     keywords: [\\\\\\\"SerializeObject\\\\\\\"]\\\\n    steps:\\\\n      - action: transform_code\\\\n        name: \\\\\\\"transform_code_1\\\\\\\"\\\\n        description: \\\\\\\"Migrate files from string interpolation to compile-time source generation.\\\\\\\"\\\\n        inputs:\\\\n          max_prompt_retries: 3\\\\n\\\", \\\"workflow_local_file\\\": null, \\\"report_type\\\": null, \\\"report_content\\\": null, \\\"scenario_description_content\\\": null, \\\"user_instructions\\\": null, \\\"transform_repo\\\": null, \\\"transform_repo_branch\\\": null, \\\"transform_repo_commit\\\": null, \\\"transform_repo_pat\\\": null, \\\"transform_repo_base_path\\\": null, \\\"transform_file_content\\\": null, \\\"transform_local_dir\\\": \\\"C:\\\\\\\\repos\\\\\\\\BandishFramework\\\\\\\\samples\\\\\\\\planning\\\\\\\\iterative\\\\\\\\ILogger_best_practice/input\\\", \\\"transform_included_dirs\\\": null, \\\"transform_included_extensions\\\": null, \\\"output_repo\\\": null, \\\"output_repo_branch\\\": null, \\\"output_repo_commit\\\": null, \\\"output_repo_pat\\\": null, \\\"output_local_dir\\\": null, \\\"kb_repo\\\": null, \\\"kb_repo_branch\\\": null, \\\"kb_repo_commit\\\": null, \\\"kb_repo_pat\\\": null, \\\"kb_local_dir\\\": \\\"C:\\\\\\\\repos\\\\\\\\BandishFramework\\\\\\\\samples\\\\\\\\planning\\\\\\\\iterative\\\\\\\\ILogger_best_practice/kb\\\", \\\"index_label\\\": null, \\\"index_pat\\\": null, \\\"index_repo_list_filepath\\\": \\\"repo_list.csv\\\", \\\"index_repo_list_content\\\": null, \\\"train_file\\\": null, \\\"train_repo_pat\\\": null, \\\"index_path\\\": null, \\\"openai_api_key\\\": \\\"*****\\\", \\\"openai_api_base\\\": \\\"https://yunlaitest.openai.azure.com/\\\", \\\"openai_api_version\\\": \\\"2023-03-15-preview\\\", \\\"openai_api_type\\\": \\\"azure\\\", \\\"embedding_model\\\": \\\"text-embedding-ada-002\\\", \\\"language_model\\\": \\\"gpt-4\\\", \\\"max_tokens\\\": null, \\\"temperature\\\": 0.3, \\\"completions\\\": 1, \\\"deployment_name\\\": \\\"yunlModel\\\", \\\"use_llm_response_cache\\\": false, \\\"llm_cache_task_id\\\": null, \\\"code_language\\\": \\\"csharp\\\", \\\"use_local_tools\\\": false, \\\"disable_staging_cleanup\\\": true, \\\"output_mode\\\": \\\"return\\\", \\\"output_path\\\": null, \\\"enable_partial_output\\\": false, \\\"disable_telemetry\\\": false}\", \"bandish_hierarchy\": \"task\", \"hierarchy_name\": \"bandish\", \"time_taken\": 322.37313294410706, \"output_branch_name\": \"\", \"pull_request_url\": \"\", \"code_metrics\": [], \"stage_metrics\": [{\"task_id\": \"912b6d99-c0ae-48fd-b72d-65361f77f21c\", \"bandish_hierarchy\": \"action\", \"hierarchy_name\": \"TRANSFORM_CODE\", \"time_taken\": 320.7906725406647}, {\"task_id\": \"912b6d99-c0ae-48fd-b72d-65361f77f21c\", \"bandish_hierarchy\": \"workflow_stage\", \"hierarchy_name\": \"stage_1\", \"time_taken\": 320.7946720123291}]}"}
